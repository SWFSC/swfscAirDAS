<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Check that AirDAS file has accepted formatting and values"><title>Check AirDAS file — airdas_check • swfscAirDAS</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Check AirDAS file — airdas_check"><meta property="og:description" content="Check that AirDAS file has accepted formatting and values"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">swfscAirDAS</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/swfscAirDAS.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/smwoodman/swfscAirDAS/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Check AirDAS file</h1>
      <small class="dont-index">Source: <a href="https://github.com/smwoodman/swfscAirDAS/blob/HEAD/R/airdas_check.R" class="external-link"><code>R/airdas_check.R</code></a></small>
      <div class="d-none name"><code>airdas_check.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Check that AirDAS file has accepted formatting and values</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">airdas_check</span><span class="op">(</span></span>
<span>  <span class="va">file</span>,</span>
<span>  file.type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"turtle"</span>, <span class="st">"caretta"</span>, <span class="st">"phocoena"</span><span class="op">)</span>,</span>
<span>  skip <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  file.out <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sp.codes <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  print.transect <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>file</dt>
<dd><p>filename(s) of one or more AirDAS files</p></dd>


<dt>file.type</dt>
<dd><p>character; indicates the program used to create <code>file</code>.
Must be one of: "turtle", "caretta", "survey", or "phocoena" (case sensitive).
Default is "turtle". Passed to <code><a href="airdas_read.html">airdas_read</a></code></p></dd>


<dt>skip</dt>
<dd><p>integer: see <code><a href="https://readr.tidyverse.org/reference/read_fwf.html" class="external-link">read_fwf</a></code>. Default is 0. 
Passed to <code><a href="airdas_read.html">airdas_read</a></code></p></dd>


<dt>file.out</dt>
<dd><p>character; filename to which to write the error log. 
Should be a text or CSV file. Default is <code>NULL</code></p></dd>


<dt>sp.codes</dt>
<dd><p>character; filename of .dat file from which to read 
accepted species codes. 
If <code>NULL</code>, default (internal) file will be used. 
Default is <code>NULL</code></p></dd>


<dt>print.transect</dt>
<dd><p>logical; indicates if a table with all the 
transect numbers in the <code>x</code> should be printed using
<code><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></code>. Default is <code>TRUE</code></p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A data frame with five columns that list information about errors found 
in the AirDAS files: the file name, line number, 
index (row number) from the <code>airdas_read(file)</code> data frame, 
'ID' (pre-Data# columns from the DAS file), and description of the issue. 
This data frame is sorted by the 'Description' column. 
If there are multiple issues with the same line, the issue descriptions
are concatenated together using <code>paste(..., collapse = "; ")</code></p>



<p>If <code>print.transect</code> is <code>TRUE</code>, then the output of 
<code>table(x$Data1[x$Event == "T"], useNA = "always")</code>, 
where <code>x</code> is the output of <code>airdas_read(file, ...)</code></p>
 

<p>is printed</p>


<p>If <code>file.out</code> is not <code>NULL</code>, then the error log is also
written to the file (e.g., a .txt or .csv file) specified by <code>file.out</code></p>


    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The default (internal) <code>sp.codes</code> file is located at 
<code>system.file("SpCodesAirDAS.dat", package = "swfscAirDAS")</code>.</p>
<p>To see the checks performed by this function, you can access the PDF locally at 
<code>system.file("AirDAS_check.pdf", package = "swfscAirDAS")</code>, 
or online at <a href="https://github.com/smwoodman/swfscAirDAS/blob/master/inst/AirDAS_check.pdf" class="external-link">https://github.com/smwoodman/swfscAirDAS/blob/master/inst/AirDAS_check.pdf</a></p>
<p>Checks that are not done by this function that may be of interest:</p><ul><li><p>Check for valid fish ball/mola/jelly/crab pot codes</p></li>
<li><p>Check that datetimes are sequential, meaning they 
    1) are the same as or 2) come after the previous event</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><a href="https://smwoodman.github.io/swfscAirDAS/" class="external-link">https://smwoodman.github.io/swfscAirDAS/</a></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"airdas_sample.das"</span>, package <span class="op">=</span> <span class="st">"swfscAirDAS"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="fu">airdas_check</span><span class="op">(</span><span class="va">y</span>, print.transect <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Sam Woodman.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

